
const snowflakes = {
  snowflake1: '<svg viewBox="0 0 119 119" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path fill="#ffffff" d="M113.9,55.2 C111.8,55.2 110,56.6 109.4,58.6 L102.4,58.6 L108.4,51.4 C108.6,51.4 108.8,51.5 109,51.5 C110.4,51.5 111.6,50.3 111.6,48.9 C111.6,47.5 110.4,46.3 109,46.3 C107.6,46.3 106.4,47.5 106.4,48.9 C106.4,49.3 106.5,49.6 106.6,50 L99.3,58.7 L84.4,58.7 C84.2,55 83.2,51.4 81.5,48.3 L86.9,45.5 L94.8,48.7 C94.8,49 94.9,49.2 95,49.5 C95.5,50.5 96.7,50.9 97.7,50.3 C98.7,49.8 99.1,48.6 98.5,47.6 C98,46.6 96.8,46.2 95.8,46.8 C95.7,46.9 95.5,47 95.4,47.1 L88.8,44.4 L93.5,41.9 C94.6,43.1 96.3,43.5 97.8,42.7 C99.5,41.8 100.2,39.6 99.3,37.9 C98.4,36.2 96.2,35.5 94.5,36.4 C93.1,37.2 92.4,38.8 92.7,40.3 L87.9,42.8 L89.4,35.8 C89.6,35.8 89.7,35.7 89.9,35.6 C90.9,35.1 91.3,33.9 90.7,32.9 C90.1,31.9 89,31.5 88,32.1 C87,32.6 86.6,33.8 87.2,34.8 C87.3,35.1 87.5,35.3 87.7,35.4 L85.9,43.9 L80.5,46.8 C78.6,43.9 76.2,41.4 73.4,39.6 L80.9,26.8 L92,25 C92.2,25.3 92.5,25.5 92.8,25.7 C94.1,26.4 95.7,26 96.4,24.8 C97.1,23.6 96.7,21.9 95.5,21.2 C94.2,20.5 92.6,20.9 91.9,22.1 C91.8,22.3 91.7,22.5 91.7,22.7 L82.5,24.2 L86,18.2 C88,18.8 90.3,18 91.4,16.1 C92.7,13.9 92,11 89.7,9.7 C87.5,8.4 84.6,9.1 83.3,11.4 C82.2,13.2 82.6,15.5 84,17 L80.4,23.1 L77.2,14.2 C77.3,14.1 77.5,13.9 77.6,13.7 C78.3,12.5 77.9,10.8 76.7,10.1 C75.4,9.4 73.8,9.8 73.1,11 C72.4,12.2 72.8,13.9 74,14.6 C74.3,14.8 74.7,14.9 75,14.9 L78.8,25.6 L71.3,38.3 C68.1,36.6 64.6,35.6 60.8,35.4 L61.1,29.6 L67.9,24.4 C68.1,24.5 68.4,24.6 68.7,24.6 C69.8,24.7 70.7,23.8 70.8,22.7 C70.9,21.6 70,20.7 68.9,20.6 C67.8,20.6 66.9,21.4 66.8,22.5 C66.8,22.7 66.8,22.8 66.8,23 L61.2,27.3 L61.4,22 C63,21.7 64.2,20.4 64.3,18.7 C64.4,16.7 62.9,15.1 60.9,15 C58.9,14.9 57.3,16.4 57.2,18.4 C57.1,20 58.2,21.4 59.6,21.9 L59.4,27.3 L54.1,22.4 C54.1,22.2 54.2,22.1 54.2,21.9 C54.2,20.8 53.4,19.9 52.3,19.8 C51.2,19.8 50.3,20.6 50.2,21.7 C50.2,22.8 51,23.7 52.1,23.8 C52.4,23.8 52.7,23.8 52.9,23.7 L59.3,29.5 L59,35.3 C55.4,35.4 52.1,36.2 49.1,37.7 L41.5,24.8 L45.3,14.1 C45.7,14.1 46,14 46.3,13.8 C47.5,13.1 48,11.5 47.2,10.2 C46.5,9 44.9,8.5 43.6,9.3 C42.3,10 41.9,11.6 42.7,12.9 C42.8,13.1 42.9,13.2 43.1,13.4 L39.9,22.3 L36.3,16.2 C37.7,14.7 38,12.5 37,10.6 C35.7,8.4 32.9,7.6 30.6,8.9 C28.4,10.2 27.6,13 28.9,15.3 C30,17.2 32.3,18 34.3,17.4 L37.8,23.4 L28.6,21.9 C28.5,21.7 28.5,21.5 28.4,21.3 C27.7,20 26.1,19.6 24.8,20.4 C23.6,21.1 23.1,22.7 23.9,24 C24.7,25.3 26.2,25.7 27.5,24.9 C27.8,24.7 28.1,24.5 28.3,24.2 L39.4,26 L47,38.9 C44,40.7 41.5,43 39.5,45.8 L34.4,43.1 L32.6,34.6 C32.8,34.4 33,34.2 33.1,34 C33.6,33 33.2,31.8 32.3,31.3 C31.3,30.8 30.1,31.2 29.6,32.1 C29.1,33 29.5,34.3 30.4,34.8 C30.5,34.9 30.7,34.9 30.9,35 L32.4,42 L27.6,39.5 C27.9,38 27.2,36.4 25.8,35.6 C24.1,34.7 21.9,35.3 21,37.1 C20.1,38.8 20.7,41 22.5,41.9 C24,42.7 25.8,42.3 26.8,41.1 L31.5,43.6 L24.9,46.3 C24.8,46.2 24.7,46.1 24.5,46 C23.5,45.5 22.3,45.9 21.8,46.8 C21.3,47.8 21.7,49 22.6,49.5 C23.6,50 24.8,49.6 25.3,48.7 C25.4,48.4 25.5,48.2 25.5,47.9 L33.4,44.7 L38.4,47.4 C36.4,50.7 35.1,54.6 34.9,58.7 L19.9,58.7 L12.6,50 C12.7,49.7 12.8,49.3 12.8,48.9 C12.8,47.5 11.6,46.3 10.2,46.3 C8.7,46.3 7.6,47.5 7.6,48.9 C7.6,50.3 8.8,51.5 10.2,51.5 C10.4,51.5 10.6,51.5 10.8,51.4 L16.8,58.6 L9.8,58.6 C9.2,56.7 7.5,55.2 5.3,55.2 C2.7,55.2 0.7,57.3 0.7,59.8 C0.7,62.4 2.8,64.4 5.3,64.4 C7.5,64.4 9.3,62.9 9.8,60.8 L16.7,60.8 L10.7,67.9 C10.5,67.9 10.3,67.8 10.1,67.8 C8.6,67.8 7.5,69 7.5,70.4 C7.5,71.8 8.7,73 10.1,73 C11.5,73 12.7,71.8 12.7,70.4 C12.7,70 12.6,69.7 12.5,69.3 L19.7,60.7 L34.7,60.7 C34.8,64.6 35.9,68.3 37.6,71.5 L32.5,74.2 L24.6,71 C24.6,70.7 24.5,70.5 24.4,70.2 C23.9,69.2 22.7,68.8 21.7,69.4 C20.7,69.9 20.3,71.1 20.9,72.1 C21.4,73.1 22.6,73.5 23.6,72.9 C23.7,72.8 23.9,72.7 24,72.6 L30.6,75.3 L25.9,77.8 C24.8,76.6 23.1,76.2 21.6,77 C19.9,77.9 19.2,80.1 20.1,81.8 C21,83.5 23.2,84.2 24.9,83.3 C26.3,82.5 27,80.9 26.7,79.4 L31.4,76.9 L29.9,83.9 C29.7,83.9 29.6,84 29.4,84.1 C28.4,84.6 28,85.8 28.6,86.8 C29.1,87.8 30.3,88.2 31.3,87.6 C32.3,87.1 32.7,85.9 32.1,84.9 C32,84.6 31.8,84.4 31.6,84.3 L33.4,75.8 L38.5,73.1 C40.5,76.3 43.3,79 46.5,80.9 L38.8,93.9 L27.7,95.7 C27.5,95.4 27.2,95.2 26.9,95 C25.6,94.3 24,94.7 23.3,95.9 C22.6,97.2 23,98.8 24.2,99.5 C25.5,100.2 27.1,99.8 27.8,98.6 C27.9,98.4 28,98.2 28,98 L37.2,96.5 L33.7,102.5 C31.7,101.9 29.4,102.7 28.3,104.6 C27,106.8 27.7,109.7 30,111 C32.2,112.3 35.1,111.6 36.4,109.3 C37.5,107.5 37.1,105.2 35.7,103.7 L39.3,97.6 L42.5,106.5 C42.4,106.6 42.2,106.8 42.1,107 C41.4,108.2 41.8,109.9 43,110.6 C44.3,111.3 45.9,110.9 46.6,109.7 C47.3,108.5 46.9,106.8 45.7,106.1 C45.4,105.9 45,105.8 44.7,105.8 L40.9,95.1 L48.6,82.1 C51.6,83.6 54.9,84.4 58.5,84.6 L58.8,90.5 L52.4,96.3 C52.1,96.2 51.9,96.1 51.6,96.2 C50.5,96.2 49.6,97.2 49.7,98.3 C49.8,99.4 50.7,100.3 51.8,100.2 C52.9,100.2 53.8,99.2 53.7,98.1 C53.7,97.9 53.7,97.8 53.6,97.6 L58.9,92.7 L59.1,98.1 C57.6,98.6 56.6,100 56.7,101.6 C56.8,103.6 58.4,105.1 60.4,105 C62.4,104.9 63.9,103.3 63.8,101.3 C63.7,99.6 62.5,98.3 60.9,98 L60.7,92.7 L66.3,97 C66.3,97.2 66.3,97.3 66.3,97.5 C66.3,98.6 67.3,99.5 68.4,99.4 C69.5,99.4 70.4,98.4 70.3,97.3 C70.3,96.2 69.3,95.3 68.2,95.4 C67.9,95.4 67.6,95.5 67.4,95.6 L60.6,90.4 L60.3,84.6 C64.1,84.5 67.7,83.5 70.8,81.8 L78.2,94.4 L74.4,105.1 C74,105.1 73.7,105.2 73.4,105.4 C72.2,106.1 71.7,107.7 72.5,109 C73.2,110.3 74.8,110.7 76.1,109.9 C77.3,109.2 77.8,107.6 77,106.3 C76.9,106.1 76.8,106 76.6,105.8 L79.8,96.9 L83.4,103 C82,104.5 81.7,106.7 82.7,108.6 C84,110.8 86.8,111.6 89.1,110.3 C91.3,109 92.1,106.2 90.8,103.9 C89.7,102 87.4,101.2 85.4,101.8 L81.9,95.8 L91.1,97.3 C91.2,97.5 91.2,97.7 91.3,97.9 C92,99.1 93.6,99.6 94.9,98.8 C96.1,98.1 96.6,96.5 95.8,95.2 C95.1,94 93.5,93.5 92.2,94.3 C91.9,94.5 91.6,94.7 91.4,95 L80.3,93.2 L72.8,80.5 C75.7,78.6 78.2,76.1 80.1,73.1 L85.2,75.8 L87,84.3 C86.8,84.5 86.6,84.7 86.5,84.9 C86,85.9 86.4,87.1 87.3,87.6 C88.3,88.1 89.5,87.7 90,86.8 C90.5,85.8 90.1,84.6 89.2,84.1 C89.1,84 88.9,84 88.7,83.9 L87.2,76.9 L92,79.4 C91.7,80.9 92.4,82.5 93.8,83.3 C95.5,84.2 97.7,83.6 98.6,81.8 C99.5,80.1 98.9,77.9 97.1,77 C95.6,76.2 93.8,76.6 92.8,77.8 L88.1,75.3 L94.7,72.6 C94.8,72.7 94.9,72.8 95.1,72.9 C96.1,73.4 97.3,73 97.8,72.1 C98.3,71.1 97.9,69.9 97,69.4 C96,68.9 94.8,69.3 94.3,70.2 C94.2,70.5 94.1,70.7 94.1,71 L86.2,74.2 L81.2,71.5 C83,68.2 84,64.5 84.1,60.6 L99,60.6 L106.2,69.2 C106.1,69.5 106,69.9 106,70.3 C106,71.7 107.2,72.9 108.6,72.9 C110,72.9 111.2,71.7 111.2,70.3 C111.2,68.9 110,67.7 108.6,67.7 C108.4,67.7 108.2,67.7 108,67.8 L102,60.7 L108.9,60.7 C109.4,62.8 111.2,64.3 113.4,64.3 C116,64.3 118,62.2 118,59.7 C118.6,57.3 116.5,55.2 113.9,55.2 Z M83,56.2 C81.6,53.6 78.9,51.8 75.7,51.8 C75.1,51.8 74.5,51.9 73.9,52 C75.4,50.5 76.4,48.4 76.4,46.1 C76.4,44.9 76.1,43.7 75.6,42.6 C79.5,46.2 82.1,50.9 83,56.2 Z M51.2,58.2 C51.7,60 51.4,61.8 50.5,63.4 C49.6,65 48.1,66.1 46.3,66.6 C44.5,67.1 42.7,66.8 41.1,65.9 C37.8,64 36.7,59.8 38.6,56.5 C39.5,54.9 41,53.8 42.8,53.3 C43.4,53.1 44,53.1 44.6,53.1 C45.8,53.1 47,53.4 48,54 C49.6,55 50.7,56.4 51.2,58.2 Z M68.9,60 C68.9,56.2 72,53.1 75.8,53.1 C79.6,53.1 82.7,56.2 82.7,60 C82.7,63.8 79.6,66.9 75.8,66.9 C71.9,66.9 68.9,63.8 68.9,60 Z M75.1,46.2 C75.1,50 72,53.1 68.2,53.1 C64.4,53.1 61.3,50 61.3,46.2 C61.3,42.4 64.4,39.3 68.2,39.3 C72,39.3 75.1,42.4 75.1,46.2 Z M60,36.6 C62.7,36.6 65.4,37.1 67.8,38 C63.8,38.2 60.5,41.3 60.1,45.3 C60.1,45 60,44.7 59.9,44.3 C59.3,42.2 58,40.4 56.1,39.3 C54.7,38.5 53.1,38.1 51.4,38.2 C54.1,37.2 57,36.6 60,36.6 Z M50.2,39.8 C50.8,39.6 51.4,39.6 52,39.6 C53.2,39.6 54.4,39.9 55.4,40.5 C57,41.4 58.1,42.9 58.6,44.7 C59.1,46.5 58.8,48.3 57.9,49.9 C57,51.5 55.5,52.6 53.7,53.1 C51.9,53.6 50.1,53.3 48.5,52.4 C46.9,51.5 45.8,50 45.3,48.2 C44.8,46.4 45.1,44.6 46,43 C47,41.4 48.4,40.3 50.2,39.8 Z M45.2,41.9 C45.1,42.1 45,42.2 44.9,42.3 C43.1,45.4 43.6,49.3 45.9,51.9 C44.8,51.7 43.6,51.7 42.4,52.1 C40.3,52.7 38.5,54 37.4,55.9 C37.1,56.4 36.9,56.9 36.7,57.5 C37.5,51.2 40.6,45.7 45.2,41.9 Z M36.8,62.4 C37.4,64.3 38.7,66 40.5,67 C41.8,67.7 43.2,68.1 44.6,68.1 C45.2,68.1 45.7,68 46.3,67.9 C45,69.4 44.2,71.3 44.2,73.4 C44.2,75.3 44.9,77.1 46,78.5 C40.9,74.8 37.5,69 36.8,62.4 Z M45.4,73.4 C45.4,69.6 48.5,66.5 52.3,66.5 C56.1,66.5 59.2,69.6 59.2,73.4 C59.2,77.2 56.1,80.3 52.3,80.3 C48.5,80.3 45.4,77.2 45.4,73.4 Z M60,83.3 C56.8,83.3 53.7,82.6 51,81.5 C51.4,81.6 51.9,81.6 52.3,81.6 C56.2,81.6 59.5,78.8 60.3,75.2 C61.2,78.8 64.4,81.5 68.2,81.5 C68.6,81.5 68.9,81.5 69.3,81.4 C66.4,82.6 63.3,83.3 60,83.3 Z M68.2,80.2 C64.4,80.2 61.3,77.1 61.3,73.3 C61.3,69.5 64.4,66.4 68.2,66.4 C72,66.4 75.1,69.5 75.1,73.3 C75.1,77.1 72,80.2 68.2,80.2 Z M75,77.8 C75.9,76.5 76.4,74.9 76.4,73.3 C76.4,71.3 75.7,69.5 74.5,68.1 C74.9,68.2 75.3,68.2 75.7,68.2 C78.9,68.2 81.6,66.4 83,63.8 C82.1,69.3 79.2,74.3 75,77.8 Z"></path></svg>',
  snowflake2: '<svg viewBox="0 0 149 149" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path fill="#ffffff" d="M140.2,100.2 L126.4,104.9 L120.6,101.6 L131.6,97.9 L130.6,94.9 L116.8,99.6 L100.7,90.5 L112,85.7 L105.2,77.5 L112.7,77.4 L122.6,88.2 L125,86 L117.1,77.3 L126.6,77.2 L126.6,74 L117.2,74.1 L124.9,65.3 L122.5,63.2 L113,74.2 L105.9,74.3 L111.8,66.5 L101.9,62.8 L117.9,54 L131.6,58.8 L132.7,55.8 L121.7,51.9 L127.6,48.7 L141.3,53.5 L142.4,50.5 L131.4,46.6 L140.2,41.7 L138.6,38.9 L129.5,43.5 L132.1,32 L129,31.3 L125.8,45.6 L119.9,48.8 L122.5,37.3 L119.4,36.6 L116.2,50.9 L99.3,60.2 L101,48.3 L91.2,49.7 L95.9,41.9 L110.3,39.1 L109.7,35.9 L98.2,38.1 L103,30 L100.2,28.4 L95.4,36.5 L91.8,25.5 L88.7,26.5 L93,40.4 L88.5,48 L84.2,38.2 L75.9,45.2 L75.9,25.8 L86.8,16.1 L84.7,13.7 L75.9,21.5 L75.9,14.8 L86.8,5.1 L84.7,2.7 L75.9,10.5 L75.9,1 L72.7,1 L72.7,10.4 L64,2.6 L61.9,5 L72.7,14.7 L72.7,21.4 L64,13.6 L61.9,16 L72.7,25.7 L72.7,44.1 L65.9,38.4 L61.5,48.5 L56.6,39.8 L56.7,39.8 L61.4,25.9 L58.4,24.9 L54.6,36.2 L49.9,27.8 L47.1,29.4 L51.7,37.6 L40.5,35.1 L39.8,38.2 L53.8,41.3 L59.1,50.6 L47.9,49 L49.6,60.7 L32,51 L28.8,36.7 L25.7,37.4 L28.3,48.9 L22.4,45.7 L19.2,31.4 L16.1,32.1 L18.7,43.6 L9.8,38.7 L8.2,41.5 L17,46.4 L6,50.3 L7.1,53.3 L20.8,48.5 L26.7,51.7 L15.7,55.6 L16.8,58.6 L30.5,53.8 L46.5,62.6 L36.6,66.3 L42.5,74.1 L35.4,74 L25.9,63 L23.5,65.1 L31.2,73.9 L21.8,73.8 L21.8,77 L31.3,77.1 L23.4,85.8 L25.8,88 L35.7,77.2 L43.2,77.3 L36.4,85.5 L47.7,90.3 L31.6,99.4 L17.8,94.7 L16.8,97.7 L27.8,101.4 L22,104.7 L8.2,100 L7.2,103 L18.2,106.7 L10,111.3 L11.6,114.1 L19.8,109.4 L17.3,120.9 L20.4,121.6 L23.5,107.3 L29.3,104 L26.8,115.5 L29.9,116.2 L33,101.9 L49.1,92.8 L47,103.6 L57.8,102.5 L54.6,108.5 L40.4,111.9 L41.2,115 L52.6,112.2 L48.1,120.5 L50.9,122 L55.3,113.7 L59.3,124.7 L62.3,123.6 L57.3,109.9 L60.7,103.6 L64.6,112.6 L72.7,105.8 L72.7,124.1 L61.9,133.8 L64,136.2 L72.7,128.4 L72.7,135.1 L61.9,144.8 L64,147.2 L72.7,139.4 L72.7,148.8 L75.9,148.8 L75.9,139.3 L84.7,147.1 L86.8,144.7 L75.9,135 L75.9,128.3 L84.7,136.1 L86.8,133.7 L75.9,124 L75.9,105.5 L84.3,112.6 L88.2,103.6 L91.6,109.9 L86.6,123.6 L89.6,124.7 L93.6,113.7 L98,122 L100.8,120.5 L96.3,112.2 L107.7,115 L108.5,111.9 L94.3,108.5 L91.1,102.6 L100.8,103.6 L98.7,92.8 L114.8,101.9 L117.9,116.2 L121,115.5 L118.5,104 L124.3,107.3 L127.4,121.6 L130.5,120.9 L128,109.4 L136.2,114.1 L137.8,111.3 L129.6,106.7 L140.6,103 L140.2,100.2 Z M60.7,53.5 L67.8,66.8 C66.8,67.5 66,68.4 65.3,69.5 L52.3,62.3 L51,52.1 L60.7,53.5 Z M40.8,67.6 L49.3,64.2 L64.1,72.4 C63.9,73.1 63.8,73.8 63.7,74.5 L45.9,74.3 L40.8,67.6 Z M40.3,84.5 L46.2,77.4 L63.9,77.6 C64.1,78.6 64.5,79.5 65,80.4 L50.1,88.8 L40.3,84.5 Z M59.4,100 L50.3,101 L51.9,91.5 L67,83 L66.9,82.8 C67.3,83.2 67.7,83.5 68.1,83.8 L59.4,100 Z M72.8,103 L65.7,108.8 L62.4,101.2 L71,85.2 C71.6,85.4 72.2,85.5 72.9,85.6 L72.9,103 L72.8,103 Z M72.8,64.7 C72.1,64.8 71.3,65 70.7,65.2 L63.2,51.3 L67,42.6 L72.8,47.4 L72.8,64.7 L72.8,64.7 Z M107.4,67.6 L102.3,74.2 L84.8,74.4 C84.7,73.6 84.6,72.9 84.4,72.2 L98.9,64.2 L107.4,67.6 Z M89.5,52.7 L97.9,51.5 L96.6,61.8 L83.1,69.3 C82.5,68.5 81.8,67.7 81.1,67.1 L89.5,52.7 Z M76,48.3 L83.3,42.3 L86.9,50.6 L78.2,65.3 C77.5,65 76.7,64.8 76,64.7 L76,48.3 L76,48.3 Z M83.5,108.8 L76,102.7 L76,85.6 C76.7,85.5 77.4,85.3 78,85 L86.8,101.1 L83.5,108.8 Z M89.9,100.1 L80.8,83.4 C81,83.3 81.1,83.1 81.3,83 L96.2,91.4 L97.8,100.9 L89.9,100.1 Z M98.1,88.8 L83.4,80.5 C83.9,79.6 84.3,78.6 84.6,77.6 L102,77.4 L107.9,84.5 L98.1,88.8 Z"></path></svg>',
  snowflake3: '<svg viewBox="0 0 142 142" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path fill="#ffffff" d="M129.4,95.9 L121.1,97.7 L114.1,93.2 L128.3,86.6 L125.7,80.9 L107.9,89.1 L83.5,73.4 C83.6,72.9 83.7,72.4 83.7,71.8 L111.3,78.4 L121.9,69.4 L111.5,60.6 L83.6,69 C83.5,68.6 83.5,68.2 83.3,67.8 L107.6,52.1 L125.4,60.3 L128,54.6 L113.8,48 L120.8,43.5 L129.1,45.3 L131.8,32.7 L119.2,30 L117.4,38.3 L110.3,42.8 L110.2,26.9 L104,26.9 L104.1,46.8 L80.2,62.2 C79.8,61.8 79.3,61.3 78.8,61 L98.7,40.7 L96.4,27 L83.5,31.4 L76.3,59.6 C75.7,59.3 75,59.1 74.4,58.9 L74.4,30.8 L91,20.3 L87.7,15 L74.5,23.4 L74.5,15.1 L80.5,9.1 L71.4,0 L62.3,9.1 L68.3,15.1 L68.3,23.5 L54.9,15 L51.6,20.3 L68.4,30.9 L68.4,58.9 C67.8,59.1 67.2,59.2 66.6,59.5 L59.4,31.4 L46.5,27 L44.2,40.7 L64,60.9 C63.5,61.3 63,61.7 62.6,62.1 L38.9,46.8 L39,26.9 L32.8,26.9 L32.7,42.8 L25.6,38.3 L23.8,30 L11.2,32.7 L13.9,45.3 L22.2,43.5 L29.2,48 L15,54.6 L17.6,60.3 L35.4,52.1 L59.5,67.6 C59.4,68 59.3,68.4 59.2,68.8 L31.8,60.6 L21.4,69.4 L32,78.4 L59.1,71.9 C59.1,72.4 59.2,73 59.3,73.5 L35.2,89 L17.4,80.8 L14.8,86.5 L29,93.1 L22,97.6 L13.7,95.8 L11,108.4 L23.6,111.1 L25.4,102.8 L32.5,98.3 L32.6,114.2 L38.8,114.2 L38.7,94.3 L62.2,79.2 C62.7,79.8 63.2,80.3 63.8,80.7 L44.3,100.6 L46.6,114.3 L59.5,109.9 L66.5,82.4 C67.1,82.7 67.7,82.9 68.4,83.1 L68.4,110.9 L51.6,121.5 L54.9,126.8 L68.3,118.3 L68.3,126.7 L62.3,132.7 L71.4,141.8 L80.5,132.7 L74.5,126.7 L74.5,118.4 L87.7,126.8 L91,121.5 L74.4,111 L74.4,83.1 C75.1,82.9 75.8,82.6 76.5,82.3 L83.5,109.6 L96.4,114 L98.7,100.3 L79.3,80.5 C79.8,80.1 80.3,79.6 80.7,79.1 L104.3,94.3 L104.2,114.2 L110.4,114.2 L110.5,98.3 L117.6,102.8 L119.4,111.1 L132,108.4 L129.4,95.9 Z"></path></svg>',
};

const INTERVAL = 10;
const STARTING_POSITION = '-10vh';
const STOPPING_POSITION = '110vh';
const $snow = document.querySelector('.snow')

window.app = {
  // settings
  threshold: 150,
  speed: 300,
  variation: 10,
  // runtime
  count: 0,
  current: 0,
  next: 0,
  last: 0,
};

function _getRandomNum(from, to) {
  return Math.round(Math.random() * (to - from) + from);
}

function _createElementFromHTML(htmlString) {
  let div = document.createElement('div');
  div.innerHTML = htmlString.trim();

  return div.firstChild; 
}

class Snowflake {
  constructor ($canvas) {
    const imageNum = _getRandomNum(1, 3);
    const image = `snowflake${imageNum}`;
    const layer = _getRandomNum(1, 3);

    this.$canvas = $canvas;
    this.layer = layer;
    this.image = image;
    this.id = new Date().getTime();
  }

  fly () {
    this.create();
    setTimeout(() => this.animate(), 100);
  }

  create () {
    const x = _getRandomNum(1, 100);
    const $svg = _createElementFromHTML(snowflakes[this.image]);

    $svg.style.top = STARTING_POSITION;
    $svg.style.left = `${x}vw`;
    $svg.classList.add('snowflake');
    $svg.classList.add(`layer-${this.layer}`);
    $svg.setAttribute('id', `#flake${this.id}`);

    this.$el = $svg;
    this.$el.addEventListener('webkitTransitionEnd', () => this.reset());
    this.$canvas.appendChild(this.$el);
  }

  reset () {
    this.$el.classList.add('disable-animation');
    setTimeout(() => {
      let x = _getRandomNum(1, 100);

      this.$el.style.left = `${x}vw`;
      this.$el.style.top = STARTING_POSITION;

      setTimeout(() => {
        this.$el.classList.remove('disable-animation');
        this.animate();
      }, 100);
    }, 100);
  }

  animate () {
    this.$el.style.top = STOPPING_POSITION;
  }
}

let interval = setInterval(() => {
  if (window.app.count >= window.app.threshold) {
    clearInterval(interval);
    return;
  }

  if (window.app.next <= window.app.current) {
    const from = app.speed - app.variation;
    const to = app.speed + app.variation;
    const space = _getRandomNum(from, to);
    const flake = new Snowflake($snow);

    flake.fly();
    window.app.count += 1;
    window.app.next = window.app.current + space;
    window.app.last = window.app.current;
  }

  window.app.current += INTERVAL;
}, INTERVAL);
